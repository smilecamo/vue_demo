<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 模板方法模式 两部分组成，1：抽象父类，2：具体实现子类
    一般就是抽象父类封装子类的算法框架，包含了一些公共方法和封装子类所有方法的执行顺序。子类通过继承抽象类也继承了整个结构，并且可以选择重写父类的方法
    一种典型的通过封装变化提高系统扩展的设计模式，模板方法中，子类方法种类和执行顺序是不变的，子类的实现是可变的
    父类是个模板，子类可以添加，就添加了不同的功能 -->
    <script>
      var Container = function (params = {}) {
        var F = function () {};
        F.prototype.init = async function () {
          var list = await this.getData();
          this.render(list);
        };
        F.prototype.getData =
          params.getData ||
          function () {
            throw new Error("必须传入getData");
          };
        F.prototype.render = function (data) {
          console.log("render" + data);
        };
        return F;
      };
      var getData1 = function () {
        return [1, 2, 3];
      };
      var container1 = Container({ getData: getData1 });
      var d = new container1();
      d.init();
    </script>
  </body>
</html>
