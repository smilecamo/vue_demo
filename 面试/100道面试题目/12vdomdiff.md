# vue/react 的价值

1. 组件化
2. 数据视图分离，数据驱动视图---这个是核心
3. 只关注业务，不关注 dom 变化

# 为什么会有 vdom

vdom 是为了服务数据视图分离的一种技术方案

初始化的时候，会有 vnode,data 变化,会有一个 vnode,为了找到需要更新哪一块，所以需要对 vnode 进行比较更新，这个比较的过程就叫 diff 算法

vnode 并不快，js 直接操作 dom 才是最快的，但是数据驱动视图需要一种技术方案，不能全部 dom 重建，所以就有了这个方案，
# 创建虚拟dom的属性
1、 sel选择器 tag区别标签
2、data 绑定的数据 props class dataSet hook
3、children 子元素
4、text 当前节点内容
5、key 优化dom操作

# diff 算法区别

如果严格的 diff 两个 tree，时间复杂度是 O(n^3)完全不可用
## tree diff优化
1. 只比较同一层级
2. tag不同删掉重建（不再比较内部细节）
3. 子节点通过key比较
## 区别
1. react 仅右移
2. vue2 双端比较 全量diff(当数据发生变化的时候iuy，会生成一个新的dom树，并和之前的dom树进行比较，找到不同然后进行更新)
3. vue3 双端比较加最长递增子序列,静态标记+非全量diff(vue3会在创建dom的时候，根据dom树中的内容会不会发生变化，添加一个静态标记，和上次的节点对比的时候会略过这些静态标记的节点)，使用最长递增子序列可以优化对比流程，最大程度上减少dom的移动，达到最少的dom操作

vue2 维护了四个变量
oldStartIndex 旧头索引
oldEndIndex 旧尾索引
newStartIdx 新头索引
newEndIdx  新尾索引
两边方向同时比较，由新的位置来获取真实DOM；如果老的先走完，就添加；如果新的先走完，就删除

vue的列表比对，采用从两端到中间的比对方式，而react则采用从左到右依次比对的方式。当一个集合，只是把最后一个节点移动到了第一个，react会把前面的节点依次移动，而vue只会把最后一个节点移动到第一个。总体上，vue的对比方式更高效。


vue比对节点，当节点元素类型相同，但是className不同，认为是不同类型元素，删除重建，而react会认为是同类型节点，只是修改节点属性

